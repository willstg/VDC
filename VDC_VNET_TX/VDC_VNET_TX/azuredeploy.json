{
  "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {

    "baseUrl": {
      "defaultValue": "https://github.com/willstg/VDC/tree/master/VDC_VNET_TX/VDC_VNET_TX",
      "type": "string",
      "metadata": {
        "artifactsBaseUrl": "",
        "description": "URL to acquire other templates"
      }
    },
    "location": {
      "type": "string",
      "defaultValue": "southcentralus",
      "metadata": {
        "description": "Deployment location. (example: southcentralus)"
      }
    },

    "ResourceGroupName": {
      "type": "string",
      "defaultValue": "vdc_vnet_tx"
    },
    "VNETStorageName": {
      "type": "string",
      "defaultvalue": "vdcvnettx1a",
      "metadata": {
        "description": "Storage account name"
      }
    },
    "stdStorageType": {
      "type": "string",
      "defaultValue": "Standard_LRS",
      "allowedValues": [
        "Standard_LRS",
        "Standard_GRS",
        "Standard_ZRS"
      ],
      "metadata": {
        "description": "Storage account type"
      }
    },
    "VNETPremiumStorageName": {
      "type": "string",
      "defaultValue": "vdcvnettx2a",
      "metadata": {
        "description": "Premium Storage account name"
      }
    },
    "prmStorageType": {
      "type": "string",
      "defaultValue": "Premium_LRS",
      "allowedValues": [
        "Premium_LRS",
        "Premium_GRS",
        "Premium_ZRS"
      ],
      "metadata": {
        "description": "Premium Storage account type"
      }
    },
    "vnetName": {
      "type": "string",
      "defaultValue": "vnet_vdc_tx",
      "metadata": {
        "description": "AzureFoundation VNET for Virtual Data Center"
      }
    },
    "vnetAddressPrefix": {
      "type": "string",
      "defaultValue": "10.190.0.0/18",
      "metadata": {
        "description": "CIDR prefix for the VNet address space."
      }
    },
    "subnet700Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.0/29",
      "metadata": {
        "description": "Subnet for CSR for Inside interface"
      }
    },
    "subnet700Name": {
      "type": "string",
      "defaultValue": "CSR_In_700_VDC_prod_tx",
      "metadata": {
        "description": "Subnet for CSR for Inside interface"
      }
    },
    "subnet700NSG": {
      "type": "string",
      "defaultValue": "NSG_CSR_In_700_VDC_prod_tx",
      "metadata": {
        "description": "700: CSR_In, Tier (0) Subnet for CSR for Inside in"
      }
    },
    "subnet700VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.04",
      "metadata": {
        "description": "CSR_Out subnet 700 VNA IP"
      }
    },
    "subnet700UDR": {
      "type": "string",
      "defaultValue": "UDR_700_CSR_In",
      "metadata": {
        "description": "UDR 700: CSR_In"
      }
    },
    "subnet701Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.8/29",
      "metadata": {
        "description": "Subnet for CSR Out interface"
      }
    },
    "subnet701Name": {
      "type": "string",
      "defaultValue": "CSR_Out_701_VDC_prod_tx",
      "metadata": {
        "description": "Subnet for CSR Outside"
      }
    },
    "subnet701VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.12",
      "metadata": {
        "description": "CSR_Out subnet 701 VNA IP"
      }
    },
    "subnet701NSG": {
      "type": "string",
      "defaultValue": "NSG_CSR_Out_701_VDC_prod_tx",
      "metadata": {
        "description": "701: CSR_Out, Tier (0) Subnet for CSR for Outside"
      }
    },
    "subnet701UDR": {
      "type": "string",
      "defaultValue": "UDR_701_CSR_Out",
      "metadata": {
        "description": "UDR 701: CSR_Out"
      }
    },
    "subnet702Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.16/29",
      "metadata": {
        "description": "Subnet for CSR Tunnel interface"
      }
    },
    "subnet702Name": {
      "type": "string",
      "defaultValue": "CSR_Tunnel_702_VDC_prod_tx",
      "metadata": {
        "description": "Subnet for the CSR Tunnel"
      }
    },
    "subnet702NSG": {
      "type": "string",
      "defaultValue": "NSG_CSR_Tunnel_702_VDC_prod_tx",
      "metadata": {
        "description": "702: CSR_Tunnel, Tier (0) Subnet for the CSR Tunne"
      }
    },
    "subnet702VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.20",
      "metadata": {
        "description": "CSR_Tunnel subnet 702 VNA IP"
      }
    },
    "subnet702UDR": {
      "type": "string",
      "defaultValue": "UDR_702_CSR_Out",
      "metadata": {
        "description": "UDR 702: CSR_Out"
      }
    },
    "subnet703Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.24/29",
      "metadata": {
        "description": "Failover subnet"
      }
    },
    "subnet703Name": {
      "type": "string",
      "defaultValue": "CSR_HA_703_VDC_prod_tx",
      "metadata": {
        "description": "Failover subnet"
      }
    },
    "subnet703NSG": {
      "type": "string",
      "defaultValue": "NSG_CSR_HA_703_VDC_prod_tx",
      "metadata": {
        "description": "703: CSR_HA, Tier (0) Failover subnet"
      }
    },
    "subnet703VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.28",
      "metadata": {
        "description": "CSR_HA subnet 703 VNA IP"
      }
    },
    "subnet703UDR": {
      "type": "string",
      "defaultValue": "UDR_703_CSR_HA",
      "metadata": {
        "description": "UDR 703: CSR_HA"
      }
    },
    "subnet704Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.32/28",
      "metadata": {
        "description": "ExpressRoute Termination"
      }
    },
    "subnet704Name": {
      "type": "string",
      "defaultValue": "ER_704_VDC_Srvcs_TX",
      "metadata": {
        "description": "ASA trusted inside environment"
      }
    },
    "subnet704NSG": {
      "type": "string",
      "defaultValue": "NSG_ER_704_VDC_Srvcs_tx",
      "metadata": {
        "description": "704: ER, Tier (0) ExpressRoute Termination"
      }
    },
    "subnet710Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.64/29",
      "metadata": {
        "description": "IntASA Management Interface "
      }
    },
    "subnet710Name": {
      "type": "string",
      "defaultValue": "IntASA_Mgnt_710_VDC_prod_TX",
      "metadata": {
        "description": "ASA management interface"
      }
    },
    "subnet710NSG": {
      "type": "string",
      "defaultValue": "NSG_IntASA_Mgnt_710_VDC_prod_TX",
      "metadata": {
        "description": "710: IntASA_Mgnt, Tier (0) ASA management interfac"
      }
    },
    "subnet710VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.68",
      "metadata": {
        "description": "IntASA_Mgnt subnet 710 VNA IP"
      }
    },
    "subnet710UDR": {
      "type": "string",
      "defaultValue": "UDR_710_ASA_Mgnt",
      "metadata": {
        "description": "UDR 710: ASA_Mgnt"
      }
    },
    "subnet711Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.72/29",
      "metadata": {
        "description": "ASA Inside Interface"
      }
    },
    "subnet711Name": {
      "type": "string",
      "defaultValue": "IntASA_In_711_VDC_prod_TX",
      "metadata": {
        "description": "ASA Inside Interface"
      }
    },
    "subnet711NSG": {
      "type": "string",
      "defaultValue": "NSG_IntASA_In_711_VDC_prod_TX",
      "metadata": {
        "description": "711: IntASA_In, Tier (0) ASA Inside Interface"
      }
    },
    "subnet711VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.76",
      "metadata": {
        "description": "IntASA_In subnet 711 VNA IP"
      }
    },
    "subnet711UDR": {
      "type": "string",
      "defaultValue": "UDR_711_ASA_In",
      "metadata": {
        "description": "UDR 711: ASA_In"
      }
    },
    "subnet712Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.80/29",
      "metadata": {
        "description": "ASA Outside Interface"

      }
    },
    "subnet712Name": {
      "type": "string",
      "defaultValue": "IntASA_Out_712_VDC_prod_TX",
      "metadata": {
        "description": "ASA Outside Interface"
      }
    },
    "subnet712NSG": {
      "type": "string",
      "defaultValue": "NSG_IntASA_Out_712_VDC_prod_TX",
      "metadata": {
        "description": "712: IntASA_Out, Tier (0) ASA Outside Interface"
      }
    },
    "subnet712VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.84",
      "metadata": {
        "description": "IntASA_Out subnet 712 VNA IP"
      }
    },
    "subnet712UDR": {
      "type": "string",
      "defaultValue": "UDR_712_ASA_Out",
      "metadata": {
        "description": "UDR 712: ASA_Out"
      }
    },
    "subnet713Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.80/29",
      "metadata": {
        "description": "ASA DMZ interface"
      }
    },
    "subnet713Name": {
      "type": "string",
      "defaultValue": "IntASA_DMZ_713_VDC_prod_TX",
      "metadata": {
        "description": "ASA DMZ interface"
      }
    },
    "subnet713NSG": {
      "type": "string",
      "defaultValue": "NSG_IntASA_DMZ_713_VDC_prod_TX",
      "metadata": {
        "description": "713: IntASA_Out, Tier (0) ASA Internet interface"
      }
    },
    "subnet713VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.92",
      "metadata": {
        "description": "IntASA_DMZ subnet 713 VNA IP"
      }
    },
    "subnet713UDR": {
      "type": "string",
      "defaultValue": "UDR_713_ASA_DMZ",
      "metadata": {
        "description": "UDR 713: ASA_DMZ"
      }
    },
    "subnet715Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.96/29",
      "metadata": {
        "description": "Internal Loadbalancer"
      }
    },
    "subnet715Name": {
      "type": "string",
      "defaultValue": "IntLB_715_VDC_prod_TX",
      "metadata": {
        "description": "Internal Loadbalancer Virtual Network Appliance"
      }
    },
    "subnet715NSG": {
      "type": "string",
      "defaultValue": "NSG_IntLB_715_VDC_prod_tx",
      "metadata": {
        "description": "715: IntLB, Tier (0) Loadbalancer"
      }
    },
    "subnet715VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.100",
      "metadata": {
        "description": "IntLB subnet 715 VNA IP"
      }
    },
    "subnet715UDR": {
      "type": "string",
      "defaultValue": "UDR_715_Int_LB",
      "metadata": {
        "description": "UDR 715: Int_LB"
      }
    },
    "subnet750Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.112/29",
      "metadata": {
        "description": "ASA management interface"
      }
    },
    "subnet750Name": {
      "type": "string",
      "defaultValue": "ExtASA_Mgnt_750_VDC_prod_TX",
      "metadata": {
        "description": "ExtASA management interface"
      }
    },
    "subnet750NSG": {
      "type": "string",
      "defaultValue": "NSG_ExtASA_Mgnt_750_VDC_prod_TX",
      "metadata": {
        "description": "750: ExtASA_Mgnt, Tier (0) ASA management interfac"
      }
    },
    "subnet750VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.116",
      "metadata": {
        "description": "ExtASA_Mgnt subnet 750 VNA IP"
      }
    },
    "subnet750UDR": {
      "type": "string",
      "defaultValue": "UDR_750_ExtASA_Mgnt",
      "metadata": {
        "description": "UDR 750: ExtASA_Mgnt"
      }
    },
    "subnet751Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.120/29",
      "metadata": {
        "description": "ExtASA Inside Interface"
      }
    },
    "subnet751Name": {
      "type": "string",
      "defaultValue": "ExtASA_In_751_VDC_prod_TX",
      "metadata": {
        "description": "ExtASA Inside Interface"
      }
    },
    "subnet751NSG": {
      "type": "string",
      "defaultValue": "NSG_ExtASA_In_751_VDC_prod_TX",
      "metadata": {
        "description": "751: ExtASA_In, Tier (0) ASA Inside Interface"
      }
    },
    "subnet751VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.124",
      "metadata": {
        "description": "ExtASA_In subnet 751 VNA IP"
      }
    },
    "subnet751UDR": {
      "type": "string",
      "defaultValue": "UDR_751_ExtASA_In",
      "metadata": {
        "description": "UDR 751: ExtASA_In"
      }
    },
    "subnet752Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.128/29",
      "metadata": {
        "description": "ExtASA Outside Interface"
      }
    },
    "subnet752Name": {
      "type": "string",
      "defaultValue": "ExtASA_Out_752_VDC_prod_TX",
      "metadata": {
        "description": "ExtASA Outside Interface"
      }
    },
    "subnet752NSG": {
      "type": "string",
      "defaultValue": "NSG_ExtASA_Out_752_VDC_prod_TX",
      "metadata": {
        "description": "752: ExtASA_Out, Tier (0) ASA Outside Interface"
      }
    },
    "subnet752VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.132",
      "metadata": {
        "description": "ExtASA_Out subnet 752 VNA IP"
      }
    },
    "subnet752UDR": {
      "type": "string",
      "defaultValue": "UDR_752_ExtASA_Out",
      "metadata": {
        "description": "UDR 752: ExtASA_Out"
      }
    },
    "subnet753Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.136/29",
      "metadata": {
        "description": "ExtASA DMZ interface"
      }
    },
    "subnet753Name": {
      "type": "string",
      "defaultValue": "ExtASA_DMZ_753_VDC_prod_TX",
      "metadata": {
        "description": "ExtASA DMZ interface"
      }
    },
    "subnet753NSG": {
      "type": "string",
      "defaultValue": "NSG_ExtASA_DMZ_753_VDC_prod_TX",
      "metadata": {
        "description": "753: ExtASA_Out, Tier (0) ASA Internet interface"
      }
    },
    "subnet753VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.140",
      "metadata": {
        "description": "ExtSA_DMZ subnet 753 VNA IP"
      }
    },
    "subnet753UDR": {
      "type": "string",
      "defaultValue": "UDR_753_ExtASA_DMZ",
      "metadata": {
        "description": "UDR 753: ExtASA_DMZ"
      }
    },

    "subnet755Name": {
      "type": "string",
      "defaultValue": "ExtLB_755_VDC_prod_TX",
      "metadata": {
        "description": "Ext Loadbalancer virtual appliance"
      }
    },
    "subnet755Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.96/29",
      "metadata": {
        "description": "External Loadbalancer Virtual Network Appliance"
      }
    },
    "subnet755NSG": {
      "type": "string",
      "defaultValue": "NSG_ExtLB_755_VDC_prod_tx",
      "metadata": {
        "description": "755: ExtLB, Tier (0) Loadbalancer"
      }
    },
    "subnet755VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.148",
      "metadata": {
        "description": "ExtLB subnet 755 VNA IP"
      }
    },
    "subnet755UDR": {
      "type": "string",
      "defaultValue": "UDR_755_Ext_LB",
      "metadata": {
        "description": "UDR 755: Ext_LB"
      }
    },
    "subnet600Prefix": {
      "type": "string",
      "defaultValue": "10.190.56.0/24",
      "metadata": {
        "description": "Used to host highly sensitive data that is also highly accessed."
      }
    },
    "subnet600Name": {
      "type": "string",
      "defaultValue": "Services_600_VDC_Srvcs_tx",
      "metadata": {
        "description": "Used to host highly sensitive data that is also highly accessed."
      }
    },
    "subnet600NSG": {
      "type": "string",
      "defaultValue": "NSG_Services_600_VDC_Srvcs_tx",
      "metadata": {
        "description": "600: Services, Tier (0) Used to host highly sensit"
      }
    },
    "subnet600VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.76",
      "metadata": {
        "description": "IntASA_In subnet 711 VNA IP"
      }
    },
    "subnet600UDR": {
      "type": "string",
      "defaultValue": "UDR_600_Services",
      "metadata": {
        "description": "UDR 600 Services"
      }
    },
    "subnet601Prefix": {
      "type": "string",
      "defaultValue": "10.190.60.0/24",
      "metadata": {
        "description": "Used to host highly sensitive data that is also highly accessed."
      }
    },
    "subnet601Name": {
      "type": "string",
      "defaultValue": "LB_Services_601_VDC_Srvcs_TX",
      "metadata": {
        "description": "Used to host highly sensitive data that is also highly accessed."
      }
    },
    "subnet601NSG": {
      "type": "string",
      "defaultValue": "NSG_LB_Services_601_VDC_Srvcs_tx",
      "metadata": {
        "description": "601: LB_Services, Tier (0) Loadbalanced Services ("
      }
    },
    "subnet601VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.100",
      "metadata": {
        "description": "IntLB subnet 715 VNA IP"
      }
    },

    "subnet601UDR": {
      "type": "string",
      "defaultValue": "UDR_601_LB_Services",
      "metadata": {
        "description": "UDR 601 LB_Services"
      }
    },
    "subnet650Prefix": {
      "type": "string",
      "defaultValue": "10.190.58.0/24",
      "metadata": {
        "description": "Used to host public facing highly accecible workloads"
      }
    },
    "subnet650Name": {
      "type": "string",
      "defaultValue": "DMZ_650_VDC_Srvcs_tx",
      "metadata": {
        "description": "Used to host public facing highly accecible workloads"
      }
    },
    "subnet650NSG": {
      "type": "string",
      "defaultValue": "NSG_DMZ_650_VDC_Srvcs_tx",
      "metadata": {
        "description": "650: DMZ, Tier (0) Used to host public facing high"
      }
    },
    "subnet650VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.124",
      "metadata": {
        "description": "ExtASA_In subnet 751 VNA IP"
      }
    },
    "subnet650UDR": {
      "type": "string",
      "defaultValue": "UDR_651_Services_DMZ",
      "metadata": {
        "description": "UDR 651 Services_DMZ"
      }
    },
    "subnet651Prefix": {
      "type": "string",
      "defaultValue": "10.190.57.0/24",
      "metadata": {
        "description": "Loadbalanced Services DMZ systems"
      }
    },
    "subnet651Name": {
      "type": "string",
      "defaultValue": "LB_DMZ_651_VDC_Srvcs_TX",
      "metadata": {
        "description": "Loadbalanced Services DMZ systems"
      }
    },
    "subnet651NSG": {
      "type": "string",
      "defaultValue": "NSG_LB_DMZ_651_VDC_Srvcs_tx",
      "metadata": {
        "description": "651: LB_DMZ, Data Tier (0) Loadbalanced Services D"
      }
    },
    "subnet651VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.148",
      "metadata": {
        "description": "ExtLB subnet 755 VNA IP"
      }
    },
    "subnet651UDR": {
      "type": "string",
      "defaultValue": "UDR_651_Services_LB_DMZ",
      "metadata": {
        "description": "UDR 651 Services_LB_DMZ"
      }
    },
    "subnet660Prefix": {
      "type": "string",
      "defaultValue": "10.190.59.0/25",
      "metadata": {
        "description": "Tier 0 - Direct Control of enterprise identities in the environment. Tier 0 includes accounts, groups, and other assets that have direct or indirect administrative control of the Active Directory forest, domains, or domain controllers, and all the assets in it. The security sensitivity of all Tier 0 assets is equivalent as they are all effectively in control of each other."
      }
    },
    "subnet660Name": {
      "type": "string",
      "defaultValue": "User_Tier0_660_VDC_Srvcs_tx",
      "metadata": {
        "description": "Tier 0 - Direct Control of enterprise identities in the environment. Tier 0 includes accounts, groups, and other assets that have direct or indirect administrative control of the Active Directory forest, domains, or domain controllers, and all the assets in it. The security sensitivity of all Tier 0 assets is equivalent as they are all effectively in control of each other."
      }
    },
    "subnet660NSG": {
      "type": "string",
      "defaultValue": "NSG_User_Tier0_660_VDC_Srvcs_tx",
      "metadata": {
        "description": "660: User_Tier0, Tier (0) Tier 0 - Direct Control"
      }
    },
    "subnet660VNAIP": {
      "type": "string",
      "defaultValue": "10.190.0.124",
      "metadata": {
        "description": "ExtASA_In subnet 751 VNA IP"
      }
    },
    "subnet660UDR": {
      "type": "string",
      "defaultValue": "UDR_660_User_Tier0",
      "metadata": {
        "description": "UDR 660: User_Tier0"
      }
    },
    "subnet661Prefix": {
      "type": "string",
      "defaultValue": "10.190.59.0/25",
      "metadata": {
        "description": "Tier 1 administrator - manage enterprise servers, services, and applications"
      }
    },
    "subnet661Name": {
      "type": "string",
      "defaultValue": "Users_Tier1_661_VDC_Srvcs_tx",
      "metadata": {
        "description": "Tier 1 administrator - manage enterprise servers, services, and applications"
      }
    },
    "subnet661NSG": {
      "type": "string",
      "defaultValue": "NSG_Users_Tier1_661_VDC_Srvcs_tx",
      "metadata": {
        "description": "661: Users_Tier1, Tier (1) Tier 1 administrator"
      }
    },
    "subnet661UDR": {
      "type": "string",
      "defaultValue": "UDR_661_User_Tier1",
      "metadata": {
        "description": "UDR 661: User_Tier1"
      }
    },
    "subnet799Prefix": {
      "type": "string",
      "defaultValue": "10.190.0.248/28",
      "metadata": {
        "description": "The Azure gateway network"
      }
    },
    "subnet799Name": {
      "type": "string",
      "defaultValue": "GW_799_VDC_gateway_St1",
      "metadata": {
        "description": "The Azure gateway network"
      }
    }
  },

  "variables": {
    "apiVersion": "2015-06-15",
    "templateBaseUrl": "https://raw.githubusercontent.com/willstg/azurefoundation/master/ARM/VNET"
  },

  "resources": [

    {

      "name": "[parameters('VNETStorageName')]",

      "type": "Microsoft.Storage/storageAccounts",

      "location": "[resourceGroup().location]",

      "apiVersion": "2015-05-01-preview",

      "dependsOn": [],

      "tags": {

        "displayName": "Storage Account - Standard"
      },
      "properties": {
        "accountType": "[parameters('stdStorageType')]"
      }
    },
    {

      "name": "[parameters('VNETPremiumStorageName')]",

      "type": "Microsoft.Storage/storageAccounts",

      "location": "[resourceGroup().location]",

      "apiVersion": "2015-05-01-preview",

      "dependsOn": [],

      "tags": {

        "displayName": "Storage Account - Premium"

      },

      "properties": {

        "accountType": "[parameters('prmStorageType')]"

      }

    },

    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet700NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 700 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "SSH.Inbound.Allow",
            "properties": {
              "description": "SSH.Inbound.Allow",
              "protocol": "Tcp",
              "sourcePortRange": "22",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 100,
              "direction": "Inbound"
            }
          },
          {
            "name": "UDP500.Inbound.Allow",
            "properties": {
              "description": "UDP500.Inbound.Allow",
              "protocol": "Udp",
              "sourcePortRange": "500",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 101,
              "direction": "Inbound"
            }
          },
          {
            "name": "UDP4500.Inbound.Allow",
            "properties": {
              "description": "UDP4500.Inbound.Allow",
              "protocol": "Udp",
              "sourcePortRange": "4500",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 711,
              "direction": "Inbound"
            }
          },
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet701NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 701 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet702NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 702 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },

    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet703NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 703 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet710NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 710 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Allow",
            "properties": {
              "description": "All_Internet.Inbound.Allow",
              "protocol": "Tcp",
              "sourcePortRange": "22",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 100,
              "direction": "Inbound"
            }
          },
          {
            "name": "UDP500.Inbound.Allow",
            "properties": {
              "description": "UDP500.Inbound.Allow",
              "protocol": "Udp",
              "sourcePortRange": "500",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 101,
              "direction": "Inbound"
            }
          },
          {
            "name": "UDP4500.Inbound.Allow",
            "properties": {
              "description": "UDP4500.Inbound.Allow",
              "protocol": "Udp",
              "sourcePortRange": "4500",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 102,
              "direction": "Inbound"
            }
          },
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },

    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet711NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 711 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet712NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 712 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet713NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 713 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet750NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 750 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Allow",
            "properties": {
              "description": "All_Internet.Inbound.Allow",
              "protocol": "Tcp",
              "sourcePortRange": "22",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 100,
              "direction": "Inbound"
            }
          },
          {
            "name": "UDP500.Inbound.Allow",
            "properties": {
              "description": "UDP500.Inbound.Allow",
              "protocol": "Udp",
              "sourcePortRange": "500",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 101,
              "direction": "Inbound"
            }
          },
          {
            "name": "UDP4500.Inbound.Allow",
            "properties": {
              "description": "UDP4500.Inbound.Allow",
              "protocol": "Udp",
              "sourcePortRange": "4500",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 102,
              "direction": "Inbound"
            }
          },
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet751NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 751 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet752NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 752 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Allow",
            "properties": {
              "description": "HTTPS.Inbound.Allow",
              "protocol": "Tcp",
              "sourcePortRange": "443",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet753NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 753 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet715NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 715 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet755NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 755 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet600NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 600 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet601NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 601 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet650NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 650 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet651NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 651 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet660NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 660 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "RDP.Inbound.Allow",
            "properties": {
              "description": "RDP.Inbound.Allow",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Allow",
              "priority": 100,
              "direction": "Inbound"
            }
          }
        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/networkSecurityGroups",
      "name": "[parameters('subnet661NSG')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 661 NSG"
      },
      "properties": {
        "securityRules": [
          {
            "name": "All_Internet.Inbound.Deny",
            "properties": {
              "description": "All_Internet.Inbound.Deny",
              "protocol": "Tcp",
              "sourcePortRange": "*",
              "destinationPortRange": "*",
              "sourceAddressPrefix": "INTERNET",
              "destinationAddressPrefix": "*",
              "access": "Deny",
              "priority": 150,
              "direction": "Inbound"
            }
          }
        ]
      }
    },

    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet710UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 710 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom710To711_IntASA_In",
            "properties": {
              "addressPrefix": "10.190.0.72/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet710VNAIP')]"
            }
          },

          {
            "name": "RouteFrom710To712_IntASA_Out",
            "properties": {
              "addressPrefix": "10.190.0.80/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet710VNAIP')]"
            }
          },

          {
            "name": "RouteFrom710To713_IntASA_DMZ",
            "properties": {
              "addressPrefix": "10.190.0.88/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet710VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet711UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 711 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom711To710_IntASA_Mgnt",
            "properties": {
              "addressPrefix": "10.190.0.64/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet711VNAIP')]"
            }
          },

          {
            "name": "RouteFrom711To712_IntASA_Out",
            "properties": {
              "addressPrefix": "10.190.0.80/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet711VNAIP')]"
            }
          },

          {
            "name": "RouteFrom711To713_IntASA_DMZ",
            "properties": {
              "addressPrefix": "10.190.0.88/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet711VNAIP')]"
            }
          }

        ]
      }
    },

    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet712UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 712 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom712To710_IntASA_Mgnt",
            "properties": {
              "addressPrefix": "10.190.0.64/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet712VNAIP')]"
            }
          },

          {
            "name": "RouteFrom712To711_IntASA_In",
            "properties": {
              "addressPrefix": "10.190.0.72/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet712VNAIP')]"
            }
          },

          {
            "name": "RouteFrom712To713_IntASA_DMZ",
            "properties": {
              "addressPrefix": "10.190.0.88/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet712VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet713UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 713 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom713To710_IntASA_Mgnt",
            "properties": {
              "addressPrefix": "10.190.0.64/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet713VNAIP')]"
            }
          },
          {
            "name": "RouteFrom713To711_IntASA_In",
            "properties": {
              "addressPrefix": "10.190.0.72/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet713VNAIP')]"
            }
          },

          {
            "name": "RouteFrom713To712_IntASA_Out",
            "properties": {
              "addressPrefix": "10.190.0.80/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet713VNAIP')]"
            }
          },

          {
            "name": "RouteFrom713To753_ExtASA_DMZ",
            "properties": {
              "addressPrefix": "10.190.0.136/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet713VNAIP')]"
            }
          },

          {
            "name": "RouteFrom713To700_CSR_In",
            "properties": {
              "addressPrefix": "10.190.0.0/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet713VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet750UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 750 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom750To751_ExtASA_In",
            "properties": {
              "addressPrefix": "10.190.0.120/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet750VNAIP')]"
            }
          },

          {
            "name": "RouteFrom750To752_ExtASA_Out",
            "properties": {
              "addressPrefix": "10.190.0.128/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet750VNAIP')]"
            }
          },

          {
            "name": "RouteFrom750To753_ExtASA_DMZ",
            "properties": {
              "addressPrefix": "10.190.0.136/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet750VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet751UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 751 UDR"
      },
      "properties": {
        "routes": [

          {
            "name": "RouteFrom751To750_ExtASA_Mgnt",
            "properties": {
              "addressPrefix": "10.190.0.112/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet751VNAIP')]"
            }
          },
          {
            "name": "RouteFrom751To752_ExtASA_Out",
            "properties": {
              "addressPrefix": "10.190.0.128/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet751VNAIP')]"
            }
          },
          {
            "name": "RouteFrom751To753_ExtASA_DMZ",
            "properties": {
              "addressPrefix": "10.190.0.136/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet751VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet752UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 752 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom752To750_ExtASA_Mgnt",
            "properties": {
              "addressPrefix": "10.190.0.112/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet752VNAIP')]"
            }
          },
          {
            "name": "RouteFrom752To751_ExtASA_In",
            "properties": {
              "addressPrefix": "10.190.0.120/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet752VNAIP')]"
            }
          },
          {
            "name": "RouteFrom752To753_ExtASA_DMZ",
            "properties": {
              "addressPrefix": "10.190.0.136/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet752VNAIP')]"
            }
          }

        ]
      }
    },

    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet753UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 753 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom753To750_ExtASA_Mgnt",
            "properties": {
              "addressPrefix": "10.190.0.112/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet753VNAIP')]"
            }
          },
          {
            "name": "RouteFrom753To751_ExtASA_In",
            "properties": {
              "addressPrefix": "10.190.0.120/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet753VNAIP')]"
            }
          },
          {
            "name": "RouteFrom753To752_ExtASA_Out",
            "properties": {
              "addressPrefix": "10.190.0.128/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet753VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet715UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 715 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom715To711_IntASA_In",
            "properties": {
              "addressPrefix": "10.190.0.72/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet715VNAIP')]"
            }
          }

        ]
      }
    },

    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet755UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 755 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom755To753_ExtASA_DMZ",
            "properties": {
              "addressPrefix": "10.190.0.136/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet755VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet600UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 600 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom600To711_IntASA_In",
            "properties": {
              "addressPrefix": "10.190.0.72/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet600VNAIP')]"
            }
          }

        ]
      }
    },

    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet601UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 601 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom601To715_IntLB",
            "properties": {
              "addressPrefix": "10.190.0.96/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet601VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet650UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 650 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom650To753_ExtASA_DMZ",
            "properties": {
              "addressPrefix": "10.190.0.136/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet650VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet651UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 651 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom651To753_ExtASA_DMZ",
            "properties": {
              "addressPrefix": "10.190.0.136/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet651VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet700UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 700 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom700To701_CSR_Out",
            "properties": {
              "addressPrefix": "10.190.0.8/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet700VNAIP')]"
            }
          },
          {
            "name": "RouteFrom700To702_CSR_Tunnel",
            "properties": {
              "addressPrefix": "10.190.0.16/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet700VNAIP')]"
            }
          },
          {
            "name": "RouteFrom700To703_CSR_HA",
            "properties": {
              "addressPrefix": "10.190.0.24/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet700VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet701UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 701 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom701To700_CSR_In",
            "properties": {
              "addressPrefix": "10.190.0.0/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet701VNAIP')]"
            }
          },
          {
            "name": "RouteFrom701To702_CSR_Tunnel",
            "properties": {
              "addressPrefix": "10.190.0.16/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet701VNAIP')]"
            }
          },
          {
            "name": "RouteFrom701To703_CSR_HA",
            "properties": {
              "addressPrefix": "10.190.0.24/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet701VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet702UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 702 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom702To700_CSR_In",
            "properties": {
              "addressPrefix": "10.190.0.0/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet702VNAIP')]"
            }
          },
          {
            "name": "RouteFrom702To701_CSR_Out",
            "properties": {
              "addressPrefix": "10.190.0.8/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet702VNAIP')]"
            }
          },
          {
            "name": "RouteFrom702To703_CSR_HA",
            "properties": {
              "addressPrefix": "10.190.0.24/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet702VNAIP')]"
            }
          }

        ]
      }
    },
    {
      "apiVersion": "2015-06-15",
      "type": "Microsoft.Network/routeTables",
      "name": "[parameters('subnet703UDR')]",
      "location": "[resourceGroup().location]",
      "tags": {
        "displayName": "Subnet 703 UDR"
      },
      "properties": {
        "routes": [
          {
            "name": "RouteFrom703To700_CSR_In",
            "properties": {
              "addressPrefix": "10.190.0.0/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet703VNAIP')]"
            }
          },
          {
            "name": "RouteFrom703To701_CSR_Out",
            "properties": {
              "addressPrefix": "10.190.0.8/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet703VNAIP')]"
            }
          },
          {
            "name": "RouteFrom703To702_CSR_Tunnel",
            "properties": {
              "addressPrefix": "10.190.0.16/29",
              "nextHopType": "VirtualAppliance",
              "nextHopIpAddress": "[parameters('subnet703VNAIP')]"
            }
          }

        ]
      }
    },

    {

      "apiVersion": "2015-06-15",

      "type": "Microsoft.Network/virtualNetworks",

      "name": "[parameters('vnetName')]",

      "location": "[resourceGroup().location]",

      "dependsOn": [

      ],
      "tags": {
        "displayName": "VDC VNet TX"
      },
      "properties": {
        "addressSpace": {
          "addressPrefixes": [
            "[parameters('vnetAddressPrefix')]"
          ]
        },
        "subnets": [
       
          {
            "name": "[parameters('subnet700Name')]",
            "properties": {
              "addressPrefix": "[parameters('subnet700Prefix')]",
              "networkSecurityGroup": {
                "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('subnet700NSG'))]"
              },
              "routeTable": {
                "id": "[resourceId('Microsoft.Network/routeTables', parameters('subnet700UDR'))]"
              }
            }
          },
          {
            "name": "[parameters('subnet701Name')]",
            "properties": {
              "addressPrefix": "[parameters('subnet701Prefix')]",
              "networkSecurityGroup": {
                "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('subnet701NSG'))]"
              },
              "routeTable": {
                "id": "[resourceId('Microsoft.Network/routeTables', parameters('subnet701UDR'))]"
              }
            }
          },
          {
            "name": "[parameters('subnet702Name')]",
            "properties": {
              "addressPrefix": "[parameters('subnet702Prefix')]"

            }
          },
          {
            "name": "[parameters('subnet703Name')]",
            "properties": {
              "addressPrefix": "[parameters('subnet703Prefix')]"

            }
          }
        ]
      }
    }
  ]
}
